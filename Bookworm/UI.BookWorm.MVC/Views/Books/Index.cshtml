@model IEnumerable<DATA.BookWorm.EF.Book>

@{
    ViewBag.Title = "Index";
}

<h2>Books</h2>
<div class="row" style="padding-bottom: 5px;">
    <div class="pull-left">
        <p>
            @Html.ActionLink("Create a New Book", "Create")
        </p>
    </div>
   
    <div class="pull-right">
        <div>
            Search by text
        </div>
        <input type="text" class="form-control search-field" placeholder="Enter text to search" />
        <div>
            Search by rating
        </div>
        <select class="form-control star-search" style="display:block;">
            <option value="0">- Select Star Rating - </option>
            <option value="1">&#9733;</option>
            <option value="2">&#9733; &#9733;</option>
            <option value="3">&#9733; &#9733; &#9733;</option>
            <option value="4">&#9733; &#9733; &#9733; &#9733;</option>
            <option value="5">&#9733; &#9733; &#9733; &#9733; &#9733;</option>
        </select>
    </div>
</div>
<div class="row">
    <table class="table books-table">
        <tr class="header">
            <th class="col-md-2">
                @Html.DisplayNameFor(model => model.Title)
            </th>
            <th class="description col-md-3">
                @Html.DisplayNameFor(model => model.Description)
            </th>
            <th class="stars-rating col-md-1">
                @Html.DisplayNameFor(model => model.StarRating)
            </th>
            <th class="col-md-2">
                @Html.DisplayNameFor(model => model.CoverArt)
            </th>
            <th class="col-md-1">
                Author
            </th>
            <th class="col-md-1">
                Book Series
            </th>
            <th class="action-options col-md-2"></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr class="data-row rating-@item.StarRating">
                <td class="col-md-2">
                    @Html.DisplayFor(modelItem => item.Title)
                </td>
                <td class="description col-md-3">
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td class="stars-rating-@item.StarRating col-md-1" value="@item.StarRating">
                    @for (int i = 0; i < Convert.ToInt32(item.StarRating); i++)
                    {
                        <img src="~/Images/star-icon.png" class="img-responsive" style="max-width:13px;display:inline;" />
                    }
                </td>
                <td class="col-md-2">
                    <img src="~/Images/@item.CoverArt" class="img-responsive" style="max-width: 100px;" />
                </td>
                <td class="col-md-1">
                    @Html.DisplayFor(modelItem => item.Author.FullName)
                </td>
                <td class="col-md-1">
                    @Html.DisplayFor(modelItem => item.BookSeries.Title)
                </td>
                <td class="action-options col-md-2">
                    @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                    @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                </td>
            </tr>
        }

    </table>
</div>